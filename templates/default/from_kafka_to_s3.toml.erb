[input_kafka]
type = "KafkaInput"
topic = "<%=@topic%>"
addrs = <%=@kafka_hosts%>

[output_s3]
type = "S3Output"
message_matcher = "TRUE"
secret_key = "<%=@secret_key%>"
access_key = "<%=@access_key%>"
bucket = "<%=@bucket%>"
prefix = "<%=@prefix%>"
region = "<%=@region%>"
ticker_interval = <%=@ticker_interval%>
encoder = "PayloadEncoder"
compression = true
buffer_path = "<%=buffer_path%>"
buffer_chunk_limit = <%=@buffer_chunk_limit%>

[PayloadEncoder]
append_newlines = false